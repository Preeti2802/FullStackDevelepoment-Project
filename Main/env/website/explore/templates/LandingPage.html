<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyPortal</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    {% load static %}
    <link rel="icon" type="image/x-icon" href="{% static 'logo.png' %}" />
    <link rel="stylesheet" href="style.css">

    <style>
        *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body{
    font-family: 'Open Sans', sans-serif;

}

header{
    height: 100px;
    background: white;
    display:flex;
    justify-content: space-between;
    align-items: center;
    padding-right: 100px;
    padding-left: 100px;


}
ul{
    display:flex;
    list-style-type: none;
    align-items: center;

}

ul li a{
    padding:0 30px;
    text-decoration: none;
    font-size: 20px;
    color:rgb(14, 24, 210) ;
    display: inline-block ;

}

li a::after{
    content: '';
    display: block;
    height: 4px;
    width: 0;
    background: rgb(9, 64, 216);
    transition: all .5s

}

li a:hover::after{
    width: 100%;
}

main{
    display: flex;
    border:2px solid rgb(143, 185, 197);
    border-bottom: none;
    border-left: none;
    border-right: none;
    height: calc(100vh - 100px);
    align-items: center;
    justify-content: space-between;
    padding-right: 100px;
    padding-left: 100px;

}



.hero_img{
    max-width: 650px;
    height: auto;
}

.content_left{
    width:50%
}
.content_right{
    width:47%
}


main2{
    display: flex;

    height: 700px;
    justify-content: space-between;
    padding-right: 100px;
    padding-left: 100px;

}



main h1{
    font-size: 54px;
    color: rgb(9, 37, 216);
    text-transform: uppercase;
}

main h2{
    font-size: 25px;
    color: rgb(9, 61, 216);
    font-weight: 400;
    text-transform: uppercase;  
    letter-spacing: 8px;
}



main2 h2{
    padding-top: 20px;
    font-size: 50px;
    color: rgb(9, 61, 216);
    font-weight: 400;
    text-transform: uppercase;  
    letter-spacing: 8px;
}

main p{
    font-size: 16px;
    font-weight: 400;
    color: #333;
    line-height: 31.5px;
    margin:40px 0 ;

}
main2 p{
    font-size: 16px;
    font-weight: 400;
    color: #333;
    line-height: 31.5px;
    margin:40px 0 ;

}

.cta{
    padding: 15px 30px;
    background: rgb(9, 44, 216);
    color:#fff;
    outline: none;
    border: none;
    font-weight: 700;
    text-transform: uppercase;
    border-radius: 50px;
    text-decoration: none;
}

.signup_btn{
    padding: 5px 10px;
    background: Cornflower rgb(0, 119, 255);
    color:#fff;
    outline: none;
    border: none;
    font-weight: 700;
    border-radius: 20px;

}
    /* Add your custom styles for the modal here */
    #myModal {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #fff;
        padding: 20px;
        border: 1px solid #ccc;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        max-width: 400px; /* Set your desired maximum width */
        width: 100%;
        box-sizing: border-box;
    }

    #myModal form {
        /* Add these styles to adjust the width of the text boxes */
        width: 100%;
        max-width: 400px; /* Set your desired maximum width */
    }
    
    #myModal form input[type="text"],
    #myModal form input[type="password"] {
        width: 100%;
        padding: 10px;
        margin: 5px 0;
        box-sizing: border-box;
    }
/* Add this at the end of your existing CSS file */
/* Add this at the end of your existing CSS file */
.blur-effect {
    filter: blur(5px);
}

#loginForm {
    display: none; /* Initially hidden */
    position: fixed; /* Fixed position */
    top: 50%; /* Center vertically */
    left: 50%; /* Center horizontally */
    transform: translate(-50%, -50%); /* Adjust for exact centering */
    background-color: #fff; /* White background */
    padding: 20px; /* Some padding */
    border: 1px solid #ccc; /* A light border */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* A subtle shadow */
    max-width: 400px; /* Max width */
    width: 100%; /* Full width */
    box-sizing: border-box; /* Handle box sizing */
    z-index: 1000; /* Ensure it's on top of other elements */
}

#loginForm .form-group {
    margin-bottom: 15px; /* Space out form elements */
}

#loginForm label {
    display: block; /* Labels are block elements */
    margin-bottom: 5px; /* Space between label and input */
}

#loginForm input[type="text"],
#loginForm input[type="password"] {
    width: 100%; /* Full width inputs */
    padding: 10px; /* Some padding */
    margin-bottom: 10px; /* Space after inputs */
    border: 1px solid #ddd; /* Light border */
    border-radius: 4px; /* Rounded borders */
    box-sizing: border-box; /* Handle box sizing */
}

#loginForm button.cta {
    width: 100%; /* Full width button */
    padding: 10px; /* Padding */
    border: none; /* No border */
    border-radius: 4px; /* Rounded borders */
    background-color: rgb(9, 44, 216); /* Button color */
    color: #fff; /* Text color */
    font-weight: 700; /* Bold font */
    text-transform: uppercase; /* Uppercase text */
    cursor: pointer; /* Pointer cursor on hover */
}

#loginForm button.cta:hover {
    background-color: rgb(5, 31, 153); /* Darker color on hover */
}

footer {
    background-color: rgba(0,0,200);  /* Dark background for contrast */
    color: white;            /* White text color */
    text-align: center;      /* Center align the text */
    padding: 4px 0;         /* Some padding for spacing */
    position: fixed;         /* Fixed position */
    left: 0;                 /* Align to the left */
    bottom: 0;               /* Position at the bottom */
    width: 100%;             /* Full width */
    font-size: 14px;         /* Adjust font size as needed */
}

.main2 {
    display: flex;
    flex-direction: column; /* Stack children vertically */
    align-items: center; /* Center children horizontally */
    justify-content: flex-start; /* Align children to the start vertically */
    width: 100%;
    max-width: 1200px;
    margin: 20px auto;
    padding: 20px;
}


.main2 .explore-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 40px; /* Spacing between sections */
}

.main2 .explore-image, .main2 .explore-text {
    flex: 1;
    max-width: 50%; /* Adjust the width as necessary */
}

.main2 .explore-img {
    width: 100%; /* Ensures the image is responsive within its container */
    height: auto; /* Maintains aspect ratio */
}

@media (max-width: 768px) {
    .explore-container {
        flex-direction: column;
        align-items: flex-start; /* Align items to the start of the cross axis on smaller screens */
    }

    .explore-image, .explore-text {
        flex: 0 0 100%; /* On smaller screens, they take full width */
    }

    .explore-img {
        max-width: 100%; /* Image will take up the full width on small screens */
    }
}




    </style>

</head>
<body>
    <footer>
        <p>&copy; 2023 StudyPortal. All rights reserved.</p>
    </footer>
    <div class="container">
        <header>
            <div class="logo">
                {% load static %}
                <img src= "{%static 'logo.png' %}" alt="Logo" width="100px">
            </div>
            <nav>
                <ul>
                    <li><a href='{% url "explore" %}' onclick="openQuizModal();return false;">Explore</a></li>    
                    <li onclick="scrollToSection('about-us-section')"><a href='#'>AboutUS</a></li>
                    <li id="userWelcome"></li>
                    
                </ul>
            </nav>
        </header>
        <main>
            <div class="content_left">
                <h1 >Studysync</h1>
                <h2>Learn. Achieve. Repeat.</h2>
                <p>
                    Explore tailored courses effortlessly on StudySync. Find your path, fueled by your interests, with intelligent suggestions. Your academic journey begins here â€“ discover, engage, excel                
                </p>
                <a href='/quiz' class="cta" onclick="openQuizModal();return false;">Take a Quiz</a>
            </div>

            <div class="content_right">
                
                
                <img src="{%static 'lp1.png'%}"  alt="" class="hero_img"> </a>
            </div>


        </main>
        <div class="main2", id="about-us-section">
            <!-- First Section -->
            
            <div class="explore-container">
                <div class="explore-image">
                    <img src="{% static 'LE1.jpg' %}" alt="Explore" class="explore-img" style="padding-right: 100px;">
                </div>
                <div class="explore-text">
                    <h2 style="padding-left: 100px;font-size: 50px;color: rgb(9, 61, 216);font-weight: 400;text-transform: uppercase; letter-spacing: 8px;">EXPLORE</h2>
                    <p style=" padding-left: 100px;font-size: 16px;font-weight: 400;color: #333;line-height: 31.5px;margin:40px 0">Are you feeling overwhelmed by the multitude of college and course options available? Fear not! Our Explore Section is designed with you in mind, offering a comprehensive and user-friendly platform to navigate the vast landscape of higher education.</p>
                </div>
            </div>
        
            <!-- Second Section -->
            <div class="explore-container">
                <div class="explore-text">
                    <h2 style="padding-right: 100px;font-size: 50px;color: rgb(9, 61, 216);font-weight: 400;text-transform: uppercase; letter-spacing: 8px;">QUIZ</h2>
                    <p style=" padding-right: 100px;font-size: 16px;font-weight: 400;color: #333;line-height: 31.5px;margin:40px 0">Feeling stuck in the dilemma of choosing the right course? Worry not! Take this survey to discover the field that aligns with your interests and eases your decision-making process. Let's find the perfect fit for you!</p>
                </div>
                <div class="explore-image">
                    <img src="{% static 'LQ1.jpg' %}" alt="New Section" class="explore-img" style="padding-left: 100px;">
                </div>
        
            </div>
        </div>
    </div>

    <div id="myModal">
        <h1>Register</h1>
        <form onsubmit="openCaptchaPage(); return false;" action="{% url 'AfterRegistration' %}" method="POST" >
            {% csrf_token %}
            <label for="full_name">Full Name:</label><br>
            <input type="text" id="full_name" name="full_name"><br>
    
            <label for="email">Email:</label><br>
            <input type="text" id="email" name="email"><br>
    
            <label for="password">Password:</label><br>
            <input type="password" id="password" name="password"><br>
    
            <p>Gender:</p>
            <input type="radio" id="male" name="gender" value="male">
            <label for="male">Male</label>
            <input type="radio" id="female" name="gender" value="female">
            <label for="female">Female</label>
            <input type="radio" id="other" name="gender" value="other">
            <label for="other">Other</label><br><br>
                    
            <button type="submit" style="background-color: rgb(0, 119, 255); color: #fff; border: none; border-radius: 5px; padding: 10px 20px; cursor: pointer; font-family: 'Arial', sans-serif; font-size: 16px; font-weight: bold;">Register</button>
        </form>

        <!-- Link to switch to Login Form -->
        <div style="text-align: center; margin-top: 20px;">
            Already have an account? <a href="#" onclick="showLogin(); return false;">Login</a>
        </div>
    </div>
       
        <!-- Login Form -->
    <div id="loginForm" style="display:none;" action="{% url 'AfterRegistration' %}" method="POST">
        <h1>Login</h1>
        <form>
            {% csrf_token %}
            <div class="form-group">
                <label for="email_login">Email:</label><br>
                <input type="text" id="email_login_id" name="email_login"><br>
            </div>

            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password_login" name="password_login" class="form-control" required>
            </div>

            <div class="form-group">
                <button type="submit" class="cta">Login</button>
            </div>
        </form>
    </div>

      <!-- <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script> -->
    <script
        src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
        crossorigin="anonymous">
    </script>
    <script>
        function scrollToSection(sectionId) {
        var element = document.getElementById(sectionId);
        element.scrollIntoView({ behavior: 'smooth' });
    }
               
        // Custom function to open the modal
        function openQuizModal() {
            var modal = document.getElementById("myModal");
            modal.style.display = "block";

            // Apply blur effect to the main container
            var container = document.querySelector('.container');
            container.classList.add('blur-effect');
        }

    // Custom function to close the modal
   
        function closeQuizModal() {
                var modal = document.getElementById("myModal");
                modal.style.display = "none";

                // Remove blur effect from the main container
                var container = document.querySelector('.container');
                container.classList.remove('blur-effect');

                var registeredName = document.getElementById("fname").value;
                document.getElementById("userWelcome").innerText = registeredName;
            
        }

        function openCaptchaPage() {
            var registeredName = document.getElementById("fname").value;

            // Log the registeredName to the console
            console.log("Registered Name:", registeredName);

            // Append the registered name as a query parameter to the URL
            //window.location.href = "AfterRegistration.html?name=" + encodeURIComponent(registeredName);
        }
    // Check if all required fields are filled when any input changes
        document.getElementById("fname").addEventListener("input", checkFields);
        document.getElementById("email").addEventListener("input", checkFields);
        document.getElementById("password").addEventListener("input", checkFields);

        function checkFields() {
            var fname = document.getElementById("fname").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

            // Enable the Register button only if all required fields are filled
            var registerButton = document.getElementById("registerButton");
            registerButton.disabled = !(fname && email && password);
        }

        function showLogin() {
            // Hide the registration form and show the login form
            console.log("showLogin function called");
            var modal = document.getElementById("myModal");
            modal.style.display = "none";

            // Open the login form
            var loginForm = document.getElementById("loginForm");
            loginForm.style.display = "block";

            if (loginForm) {
                console.log("GOing to Login function");
            } else {
                // Log an error or handle the absence of the login form
                console.log("The login form was not found.");
            }
           
            if (document.readyState === 'interactive' || document.readyState === 'complete') {
                console.log("Inside DOM");
                onDomReady();
            } else {
                document.addEventListener('DOMContentLoaded', onDomReady);
            }

        }

        function onDomReady() {
            console.log("DOM is ready");

            var loginFormElement = document.getElementById('loginForm');
            console.log(loginFormElement);

            if (loginFormElement) {
                loginFormElement.addEventListener('submit', function(event) {
                    console.log("Submit clicked");
                    event.preventDefault(); // Prevent the default form submission
                    login(); // Call the login function
                });
            } else {
                console.log("The login form was not found.");
            }
        }
        function login(event) {
            console.log("Hiiiiiii");
            var username_login = document.getElementById("email_login_id").value;
            var password_login = document.getElementById("password_login").value;
            console.log(username_login);
            $.ajax({
                type: "POST",
                url: "",
                data: {
                    username_login: username_login,
                    password_login: password_login,
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val() // get the csrf token
                },
                success: function(response) {
                    // Handle success - perhaps redirecting to another page or closing the modal
                    console.log('Login successful');
                    // Redirect to another page or close the modal
                    window.location.href = "AfterRegistration/";
                },
                error: function(xhr, textStatus, errorThrown) {
                    // Handle error - maybe show an error message
                    alert("Invalid credentials");
                    console.error('Login failed:', textStatus, errorThrown);
                }
            });
        }

      </script>
</body>
</html>